<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
<title>Employees Page</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css">
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/mdb.min.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
    <script type="text/javascript" src="/js/jquery-3.2.1.min.js"></script>
    <style>
    table.table a {
	    padding: .2rem 0.8rem;
}
.w-auto {
    width: auto;
}

.table-fixed {
    table-layout: fixed;
    overflow: hidden;
}

    </style>
</head>

<body>
	<div class="container" style="margin-top: 40px">
		<div class="panel-group">
			<nav class="navbar navbar-dark primary-color fixed-top navbar-expand-md">
    			<a th:if="${isAdmin}" class="navbar-brand" href="/admin/home">iFreeDays - Vacations Admin</a>
				<a th:unless="${isAdmin}" class="navbar-brand" href="/user/home">iFreeDays - Vacations Manager</a>
    			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav" aria-controls="basicExampleNav" aria-expanded="false" aria-label="Toggle navigation">
		        	<span class="navbar-toggler-icon"></span>
    			</button>
    			
    			<div class="collapse navbar-collapse" id="basicExampleNav">
		        	<ul class="navbar-nav mr-auto">
			            <li class="nav-item" th:if="${isAdmin}"><a class="nav-link" href="/admin/home">Home</a></li>
						<li class="nav-item" th:unless="${isAdmin}"><a class="nav-link" href="/user/home">Home</a></li>
						<li class="nav-item"><a class="nav-link" href="/skills">List of skills</a></li>
						<li class="nav-item" th:if="${isAdmin}"><a class="nav-link" href="/admin/employees">List of employees</a></li>
						<li class="nav-item"><a class="nav-link" href="/calendars/skills">Skills calendar view</a></li>
						<li class="nav-item" th:if="${isAdmin}"><a class="nav-link" href="/calendars/employees">Employees calendar view</a></li>
						<li class="nav-item"><a class="nav-link" href="/user/requestVacation">Request vacation</a></li>
						<li class="nav-item"><a class="nav-link" href="/user/myVacations">My vacations</a></li>
	        		</ul>
        			<ul class="navbar-nav ml-auto">
	        			<li class="nav-item"><a class="nav-link" href="/logout">Logout</a></li>
	        		</ul>
    			</div>
			</nav>
			<div class="panel-group" style="margin-top: 80px">
			<div class="card">
			<div class="card-body">
				<table class="table table-responsive-md table-fixed table-striped" id="myTable">
					<thead>
						<tr>
							<th>ID</th>
							<th>Name</th>
							<th>Last name</th>
							<th>Email</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						<tr data-th-each="user : ${employees}">
							<td data-th-text="${user.id}" />
							<td data-th-text="${user.name}" />
							<td data-th-text="${user.lastName}" />
							<td data-th-text="${user.email}" />
							<td class=""><a class="btn btn-success btn-xs"
								th:href="'/admin/employees/details/' + ${user.id}" role="button"><span
									class="fa fa-eye" aria-hidden="true"></span></a> <a
								class="btn btn-info btn-xs"
								th:href="'/admin/employees/skills/' + ${user.id}" role="button"><i class="fa fa-navicon" aria-hidden="true"></i></a> <a
								class="btn btn-primary btn-xs"
								th:href="'/admin/employees/edit/' + ${user.id}" role="button"><i class="fa fa-edit" aria-hidden="true"></i></a> <a
								class="btn btn-danger btn-xs"
								th:href="'/admin/employees/delete/' + ${user.id}" role="button"><i class="fa fa-trash-o" aria-hidden="true"></i></a></td>
						</tr>
					</tbody>
				</table>
				</div>
				</div>

				<p th:if="${skills} == null">Oops, there are not any skill</p>
				<table th:if="${skills} != null" class="table table-bordered" align="center" id="myTable"
					style="width: 100px; text-align: center; white-space: nowrap;">
					<thead th:if="${user} != null">
						<tr>
							<th style="width: 100px; text-align: center" th:text="${user.getLastName()} + ' ' + ${user.getName()} + '\'s ' + 'skills'"></th>
							<th style="width: 100px; text-align: center" th:text="Actions"></th>
						</tr>
					</thead>
					<tbody>
						<tr data-th-each="skill : ${skills}">
							<td data-th-text="${skill.getName()}" />
							<td><a class="btn btn-danger btn-xs fa fa-trash-o"  role="button" th:href="'/admin/employees/delete/skill/?skillId=' + ${skill.getId()} + '&userId=' + ${user.getId()}"><span class="glyphicon glyphicon-trash"></span></a></td>
					</tbody>
				</table>

	<blockquote th:if="${msg} != null" class="blockquote bq-success">
    	<p class="bq-title">Success notification</p>
    	<p th:text="${msg}"></p>
	</blockquote>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="/js/jquery-3.2.1.min.js"></script>
    	<script type="text/javascript" src="/js/popper.min.js"></script>
    	<script type="text/javascript" src="/js/bootstrap.min.js"></script>
    	<script type="text/javascript" src="/js/mdb.min.js"></script>
</body>
</html>